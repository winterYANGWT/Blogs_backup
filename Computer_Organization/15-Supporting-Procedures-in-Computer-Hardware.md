---
title: 15 Supporting Procedures in Computer Hardware
date: 2018-11-06 15:44:47
category: Computer_Organization
---
<font size=6>计算机硬件对过程的支持
<!--more-->

---
<font size=5>过程 : 
<font size=3>过程或者函数是用来结构化程序的工具，使用过程能够让程序变得易读且增强代码的重用性，程序员只需要关注任务的一部分。参数可以用来传递和返回值，可以用作过程和其他程序的接口。我们可以认为过程就像一个执行秘密任务的间谍，获取所需资源、执行任务、掩盖行踪，最后带着结果回到原处。任务完成后就不再干涉其他任务。同样我们可以将过程的执行分为六步 :
1. 将参数放在过程能访问的地方
2. 将控制交给过程
3. 获取需要的存储资源给过程
4. 完成预定的任务
5. 将结果放到调用程序能访问的地方
6. 将控制交回源点

我们知道寄存器是在计算机中最快的存储器，我们应该尽可能使用寄存器。MIPS提供了一些寄存器来给调用过程时使用 : 
- `$a0`-`$a3` : 存储需要传递的参数
- `$v0`-`$v1` : 存储返回值
- `$ra` : 存储过程调用源点的地址

除了分配了这些寄存器，MIPS提供了一条跳转链接指令jal。
```assembly
jal ProcedureAddress
```
jal指令在跳转到过程地址的同时将源点的地址存储在寄存器`$ra`中。MIPS也提供了寄存器跳转指令jr来实现这个过程。jr指令将无条件跳转到寄存器内的地址。
```assembly
jr $ra
```
完整的描述一个过程调用。调用程序将参数放入`$a0`-`$a3`中并使用jal指令跳转到过程，过程完成后就将结果放入`$v0`-`$v1`中，在使用jr指令跳转到源点`$ra`。

<font size=5>使用更多的寄存器
<font size=3>