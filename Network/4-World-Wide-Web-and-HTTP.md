---
title: 4 World Wide Web and HTTP
date: 2018-04-01 16:21:41
category: Computer_Network
tags: [Application Layer]
---
<font size=6>万维网和超文本协议
<!--more-->

---
<font size=5>万维网 (World Wide Web, WWW) : 
<font size=3>万维网在1989年在欧洲核子实验中心被建立,万维网现在是一个被称为网页 (Web Page) 的信息文档的仓库。
万维网其流行就在于其分布式 (distributed) 和链接 (linked)。分布式让万维网快速发展，每个服务器都可以添加网页到万维网。链接让网页可以引用到另一个服务器的网页，这种链接是通过超文本 (hypertext) 实现的。将一个网页的链接放在另一个网页里，当用户点击该链接是就会取出该网页。如今超文本已经有了个新词叫做超媒体 (hypermedia),意味着一个网页可以是文本，图片，音频和视频。

网页作为文件需要一个独一无二的标识符，也就是前面所提到的URL。未定义一个文件我们需要其主机名，端口地址，路径这三个标识符，我们还需要告诉浏览器需要什么协议。所以共需要四个标识符。主机名对应了其服务器的IP地址。端口地址经常被预定义，所以不一定需要提供端口地址。URL的格式为 protocol://host/path 或 protocol://host:port/path。

网页文档类型分为三种 : 
- 静态文档 (static document) : 静态文档是被创造和存储在服务器的固定内容文件，客户机只能获取静态文档的副本。固定内容意味着只有服务器能够改变器内容。
- 动态文档 (dynamic document) : 当客户机请求文档时被服务器创造。当被请求时，服务器运行程序和脚本并返回其结果。每次返回的文档可能不同。
- 活动文档 (active document) : 活动文档被创建在本地，服务器发送文档副本并交给客户机进行运行，加强了与用户之间的交互。
<br/>

<font size=5>超文本协议 (Hypertext Transfer Protocol, HTTP) : 
<font size=3>HTTP用来定义客户机和服务器之间如何获取网页。

在HTTP中，客户机发送请求，服务器返回回应，客户机使用暂时的端口，服务器使用端口80。HTTP使用面向连接的TCP，这也意味着在客户机和服务器在传输前将会建立连接，传输完成后，连接关闭。在传输多个文件时，文件连接分为以下两种 : 
- 非持续性连接 (nonpersistent connections) : 每次TCP连接用来进行一次请求与回应。其步骤如下 : 
    1. 客户机建立连接并发送请求。
    2. 服务器发送回应并关闭连接。
    3. 客户机读取数据，完成后关闭连接。

  在这种连接中如果传输一个包含n张图片的文件，则要建立n+1 (该文件和n张图片) 次连接。这种连接增加了服务器的负担。因为在每次连接时都要分配n+1个不同的缓冲区。在HTTP 1.0之前使用这种连接。
- 持续性连接 (persistent connections) : 只需建立一次连接就可以完成多次请求与回应。服务器能在客户机的请求或超过时间后关闭连接。每次发送回应都要加入数据的长度，但是在发送动态文档和活动文档时只能告诉客户机长度未知。这种连接时间和资源都能比较节省，只需要一组缓冲区就能完成任务。在HTTP 1.1 这种连接被设为默认连接方式。

报文格式 (message format) : HTTP报文格式可查询RFC文档。

Cookies : Cookies是存储在客户浏览器本地的数据
其创立的过程如下 : 
1. 当服务器接受一个请求，服务器记录客户机的信息，并记录Cookies。
2. 服务器把Cookies放入回应中，然后发给客户机。
3. 客户机接收回应，并将Cookies存储进入Cookies目录。

当客户机发送请求给服务器，浏览器查询Cookies并放入请求发给服务器。服务器接收请求，获取Cookies。

代理服务器 (proxy serve) : 代理服务器能够减轻原服务器的负担。当客户机发送请求，代理服务器会在高速缓存中查询回应内容，如果存在就直接返回给客户机，如果不在,就向原服务器发送请求，接受回应，更新缓存，返回回应给客户机。
